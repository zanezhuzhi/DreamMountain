# 数值配置规范 (Numerics Spec)

> **设计原则**: 数值服务于体验。不要为了平衡而牺牲爽快感，也不要为了坑钱而破坏生态。
> **前置依赖**: 必须基于《系统设计规范》中的经济与战斗模块。

---

## 1. 核心体验量化 (Quantified Aesthetics)

将抽象的体验目标转化为可监控的数据指标。

### 1.1 体验指标映射
*   **体验目标**: [例如：刀刀入肉的爽快感]
*   **监控指标**:
    *   **TTK (Time To Kill)**: 标准小怪应在 [X] 秒内死亡。
    *   **伤害波动**: 暴击伤害应是普通伤害的 [X] 倍（创造惊喜感）。
    *   **成长反馈**: 每次升级，战斗效率应提升 [Y]%。

### 1.2 边界定义
*   **最小数值**: 1点伤害是否允许？（还是强制保底10点？）
*   **最大数值**: 是否存在伤害上限（Damage Cap）？数据类型是 Int32 还是 Int64？

---

## 2. 经济生态 (Economic Ecology)

### 2.1 资源流转模型 (Flow Model)
请绘制核心资源的 Source -> Pool -> Sink 循环。

```mermaid
graph LR
    Source(产出: 副本/挂机) --> Pool(存量: 玩家背包)
    Pool --> Sink(消耗: 强化/抽卡)
    Sink --> Power(转化: 战斗力提升)
    Power --> Source
```

### 2.2 阶层模型 (User Segments)
定义不同类型玩家的资源获取预期。

| 资源类型 | 免费玩家 (F2P) | 小R (Minnow) | 大R (Whale) | 贫富差距控制 |
| :--- | :--- | :--- | :--- | :--- |
| *金币/天* | *10,000* | *15,000* | *50,000* | *< 5倍* |
| *稀有代币* | *10* | *20* | *100* | *限制每日购买上限* |

### 2.3 通胀控制
*   **通胀率**: 每版本资源产出增加 [X]%。
*   **贬值策略**: 旧资源如何回收？（兑换新资源？还是作废？）

---

## 3. 战斗数值体系 (Combat Math)

### 3.1 属性价值 (Stat Weights)
定义标准战斗力模型。
*   **1 攻击力** = [X] 战力
*   **1 生命值** = [Y] 战力
*   **价值恒等式**: [描述属性之间的兑换关系]

### 3.2 核心公式 (Formulas)
列出公式并解释**为什么**。
*   **伤害公式**: `Damage = (Atk - Def) * Crit`
    *   *决策理由*: 采用减法公式是为了强调防御属性的阈值效应，鼓励玩家堆防御。
*   **命中公式**: ...

### 3.3 圆桌理论 (Combat Table)
定义判定优先级。
1.  **未命中 (Miss)**
2.  **闪避 (Dodge)**
3.  **暴击 (Crit)**
4.  **普通命中 (Hit)**

---

## 4. 配置表结构 (Config Tables)

### 4.1 核心表结构
定义 Excel 表头结构。

| 字段名 | 类型 | 说明 | 验证规则 |
| :--- | :--- | :--- | :--- |
| `ID` | `int` | 唯一标识 | `Unique, >0` |
| `BaseAttr` | `array` | 基础属性 | `Length=5` |
| `GrowCurve` | `string` | 成长曲线ID | `Ref(CurveTable)` |

---

## 5. 模拟与验证 (Simulation)

### 5.1 模拟需求
*   **场景**: [例如：1000次同级战斗模拟]
*   **脚本需求**: 需要编写 Python 脚本模拟战斗过程。

### 5.2 验收标准
*   **胜率**: 同战力胜率应在 45%-55% 之间。
*   **时长**: 平均时长应为 [X] 秒，方差 < 10%。
